<!DOCTYPE html>
<html lang="de">
<head>
  <link rel="stylesheet" href="style.css">
  <meta charset="UTF-8">
  <title>iFixit Daten</title>
</head>
<body>
  <h1 id="header">Lade...</h1>
  <p id="usrdata">Lade Daten...</p> 
  <script>
    const proxy = "https://corsproxy.io/?";
    const targetURL = "https://www.ifixit.com/api/2.0/users/4502323";

    const knownTeams = {
  46701: "German Translators",
  1: "iFixit",
  4580917: "Made un Germany"
  // hier kannst du weitere Team-IDs und Namen eintragen
};

fetch(proxy + encodeURIComponent(targetURL))
  .then(response => {
    if (!response.ok) throw new Error(response);
    return response.json();
  })
  .then(data => {
    // data.teams annehmen als Array von IDs (oder string, dann anpassen)
    const teamIDs = Array.isArray(data.teams) ? data.teams : [data.teams];

    // Teamnamen filtern und zusammenbauen
    const teamNames = teamIDs
      .map(id => knownTeams[id] || `Team-ID ${id}`)
      .join(", ");

    const usrdata = `
      <p><strong>Benutzername:</strong> ${data.username}</p>
      <p><strong>Reputation:</strong> ${data.reputation}</p>
      <p><strong>Beigetreten am:</strong> ${new Date(data.join_date * 1000).toLocaleDateString("de-DE")}</p>
      <p><strong>Teams:</strong> ${teamNames}</p>
      <p><strong>Badges:</strong> ðŸ¥‰ ${data.badge_counts.bronze} | ðŸ¥ˆ ${data.badge_counts.silver} | ðŸ¥‡ ${data.badge_counts.gold}</p>
      <p><strong>Link zum Profil:</strong> <a href="https://www.ifixit.com/User/${data.userid}" target="_blank">Hier klicken</a></p>
    `;
    const headerText = `iFixit Stats von ${data.username}`

    document.getElementById("usrdata").innerHTML = usrdata;
    document.getElementById("header").innerHTML = headerText;
  })
  .catch(error => {
    document.getElementById("usrdata").textContent = "Fehler beim Laden von Daten: " + error.message;
    console.error(error);
  });
  </script>
  <style>
  body{
    background-color: rgb(0, 0, 0);
    color: rgb(255, 255, 255);
    padding-top: 20px;
    padding-left: 100px;
    margin: auto;
    align: middle;
  }
  h1 {
  font-size: 3em;
  background: linear-gradient(270deg, #ff00cc, #3333ff, #00ffcc, #ffcc00, #ff00cc);
  background-size: 1000% 1000%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: shine 60s ease-in-out infinite;
}
    
@keyframes shine {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
  
}</style>
</body>
</html>
